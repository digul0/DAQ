cmake_minimum_required(VERSION 3.11)
project(DAQ)
file(GLOB HEADERS RELATIVE "${CMAKE_CURRENT_SOURCE_DIR}" "*.h") 
file(GLOB SOURCES RELATIVE "${CMAKE_CURRENT_SOURCE_DIR}" "*.cpp") 
add_executable(${PROJECT_NAME} ${SOURCES} ${HEADERS})
target_compile_features(DAQ PUBLIC cxx_std_17)
#include_directories(.)
#set (Boost_DEBUG 1)
set(Boost_USE_STATIC_LIBS        ON) # only find static libs
set(Boost_USE_MULTITHREADED      ON)
set(Boost_USE_STATIC_RUNTIME    OFF)
#my boost compiled by older version mingw 
set(Boost_COMPILER "-mgw73")
#only x64 or x86 systems
if (NOT CMAKE_CXX_COMPILER_ARCHITECTURE_ID)
    set(CMAKE_CXX_COMPILER_ARCHITECTURE_ID "x64") #TODO: fix it!
endif()
#message (STATUS "Kuku ${CMAKE_SIZEOF_VOID_P}")
find_package(Boost COMPONENTS regex) #REQUIRED)
if (${Boost_FOUND})
  add_definitions("-DHAS_BOOST")
  include_directories(${Boost_INCLUDE_DIRS})
  target_link_libraries(${PROJECT_NAME} ${Boost_LIBRARIES})
 endif()